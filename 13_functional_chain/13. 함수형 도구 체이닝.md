# 12. 함수형 반복

## TL;DR

- 함수형 도구는 여러 단계의 체인으로 조합 가능, 함수형 도구를 체인으로 조합하면 복잡한 계산을 작고 명확하게 표현 가능
    - SQL이 대표적인 함수형 도구를 체인으로 조합하는 형태
- 종종 체인의 다음 단계를 위해 새로운 데이터를 만들거나 기존 데이터를 인자로 활용해야 하는 일이 있다
- 최대한 암묵적인 정보를 명시적으로 표현하는 방법을 찾아야 한다.
- 이렇게 여러 단계를 하나로 조합하는 것을 체이닝이라고 한다.
- 항등 함수 : 인자로 받은 값을 그대로 리턴하는 함수
- 콜백을 이름으로 만드는 것이 알아보기 쉽다.

## 체이닝 팁 요약

### 데이터 만들기
- 함수형 도구는 배열 전체를 다룰 때 잘 동작한다. 배열 일부에 대해 동적하는 반복문이 있다면 배열 일부를 새로운 배열로 나눌 수 있다.
- 즉 배열에 있지 않은 값이라도 배열을 이용하여 데이터를 생성하면 함수형 도구를 다룰 수 있다.
- map(), filter(), reduce() 같은 함수형 도구를 사용하면 작업을 줄일 수 있다.

### 배열 전체를 다루기

### 작은 단계로 나누기
알고리즘이 너무 많은 일을 한다고 생각 된다면 두 단계 이상 나눠 보라.

## 체이닝 디버깅을 위한 팁

### 구체적인 것을 유지하기
파이프 라인이 많더라도 데이터를 기억할 수 있도록 이름을 쉽게 붙이기

### 출력해보기

### 타입을 따라가 보기

## ETC
- filter같은 체인을 스트림 결합으로 최적화할 수 있다 : 단 성능상의 이점이 필요한 경우를 제외하고 여러 단계를 사용하는 것이 더 명확하다.
```javascript
    // 최적화 전    
    const goodCustomer = customers.filter( customer => isGoodCustomer() );
    const withAddress = goodCustomer.filter( customer => hasAddress() );
	
	// 최적화 후 -> 한번의 GC만 작동
    const withAddress = customers.filter( customers => {
		return isGoodCustomer() && hasAddress();
    })
	
```